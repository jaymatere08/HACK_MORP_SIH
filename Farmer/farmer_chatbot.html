<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>Farmer Dashboard</title>
    <link rel="icon" type="image" href="C:\Users\sarth\OneDrive\Attachments\Desktop\SIH\Logo_top.png">
    <link rel="icon" type="image" href="Logo_top.png">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            background: linear-gradient(135deg, #a8e6cf, #dcedc1, #b9fbc0);
            margin: 0;
            padding: 0;
            color: #333;
            font-family: Arial, sans-serif;
        }

        .navbar{
            height: 3rem;
            border-radius: 1rem;
            border: 1px solid green;
            background-color: white;
            margin: 1rem 1rem 0 1rem;
            display: flex;
            padding-left: 1rem;
            align-items: center;
            justify-content: space-between;
            align-content: center;
        }

        .nav-options{
            display: flex;
        }

        .nav-options a{
            text-decoration: none;
        }

        .nav-options button{
            margin-left: 0.5rem;
            margin-right: 0.5rem;
            font-size: large;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            height: 2rem;
            border: none;
            transition: transform 0.2s, box-shadow 0.3s, background 0.3s;
        }

        .nav-options button:hover {
            transform: scale(1.1) translateY(-2px);
            box-shadow: 0 5px 10px green;
        }

        .welcome-section {
            width: 60%;
            position: relative;
            max-width: 1000px;
            margin: 3rem auto;
            height: 100%;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            animation: fadeInUp 1s ease forwards;
            opacity: 0;
        }

        .welcome-section img {
            width: 100%;
            height: 350px;
            object-fit: cover;
            display: block;
        }

        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(30px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            padding: 30px;
            color: #fff;
        }

        .overlay h1 {
            font-size: 36px;
            margin: 0 0 10px;
            animation: fadeInText 1.5s ease forwards;
            opacity: 0;
        }

        .overlay p {
            font-size: 18px;
            margin: 0 0 20px;
        }

        @keyframes fadeInText {
            0% { opacity: 0; transform: translateX(-20px);}
            100% { opacity: 1; transform: translateX(0);}
        }

        .top-part{
            display: flex;
        }

        .profile-page {
            width: 30%;
            height: 100%;
            margin: 3rem auto;
            background: #fef6fb;
            padding: 2.5rem;
            border-radius: 0.8rem;
            margin-bottom: 2rem;
            box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.05);
            animation: slideInLeft 1s ease forwards;
            opacity: 0;
        }

        @keyframes slideInLeft {
            0% { opacity: 0; transform: translateX(-50px);}
            100% { opacity: 1; transform: translateX(0);}
        }

        .consumer-profile {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .consumer-profile p {
            font-size: 1.5rem;
            color: #09882b;
        }

        .consumer-profile h3 {
            font-weight: 700;
            color: #09882b;
        }

        .profile-details {
            display: grid;
            grid-template-columns: repeat(2, 5fr);
            gap: 1rem;
            font-size: 0.95rem;
            text-align: center;
        }

        .profile-details p {
            margin: 0;
            font-weight: 500;
        }

        .profile-details span {
            font-weight: 600;
            color: #09882b;
        }

        #pStatus {
            background-color: #09882b;
            padding: 0.2rem 0.6rem;
            border-radius: 0.5rem;
            font-size: 0.8rem;
            color: #fff;
            font-weight: 600;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 5px #bef99c; }
            50% { box-shadow: 0 0 15px #216203e1; }
            100% { box-shadow: 0 0 5px rgb(110, 220, 79); }
        }

    /* Chatbot Styles */
.chatbot-container {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
}

/* Floating Chatbot Toggle */
.chatbot-toggle {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background: linear-gradient(135deg, #0095ff, #005ae0);
    border: none;
    color: white;
    font-size: 26px;
    cursor: pointer;
    box-shadow: 0 6px 16px rgba(0,0,0,0.25);
    transition: transform 0.25s ease, box-shadow 0.25s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: pulseGlow 2s infinite;
}

/* Hover Effects */
.chatbot-toggle:hover {
    transform: scale(1.1) rotate(10deg);
    box-shadow: 0 8px 20px rgba(0, 90, 224, 0.6);
}

/* Click/Active Effect */
.chatbot-toggle:active {
    transform: scale(0.95);
}

/* Glowing Animation */
@keyframes pulseGlow {
    0% {
        box-shadow: 0 0 6px rgba(0, 149, 255, 0.6),
                    0 0 12px rgba(0, 149, 255, 0.4);
    }
    50% {
        box-shadow: 0 0 12px rgba(0, 90, 224, 0.8),
                    0 0 24px rgba(0, 90, 224, 0.5);
    }
    100% {
        box-shadow: 0 0 6px rgba(0, 149, 255, 0.6),
                    0 0 12px rgba(0, 149, 255, 0.4);
    }
}


        .chatbot-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
        }

        .chatbot-widget {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 350px;
            height: 500px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .chatbot-widget.active {
            display: flex;
        }

        .chatbot-header {
            background: linear-gradient(135deg, #0095ff, #005ae0);
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: bold;
            position: relative;
        }

        .language-selector {
            
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background-color: white;
        }

        .language-selector select {
            background: rgba(255,255,255,0.2);
            border: 1px solid rgba(255,255,255,0.3);
            color: black;
            border-radius: 5px;
            padding: 5px;
            font-size: 12px;
        }

        .chatbot-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background: #f9f9f9;
        }

        .message {
            margin-bottom: 10px;
            display: flex;
            align-items: flex-start;
        }

        .message.bot {
            justify-content: flex-start;
        }

        .message.user {
            justify-content: flex-end;
        }

        .message-content {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 15px;
            font-size: 14px;
            line-height: 1.4;
        }

        .message.bot .message-content {
            background: #e8f5e8;
            color: #202aba;
            border-bottom-left-radius: 5px;
        }

        .message.user .message-content {
            background: #4c8baf;
            color: white;
            border-bottom-right-radius: 5px;
        }

        .chatbot-input {
            padding: 15px;
            border-top: 1px solid #eee;
            background: white;
        }

        .input-group {
            display: flex;
            gap: 10px;
        }

        .input-group input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
            font-size: 14px;
        }

        .voice-btn, .send-btn {
            width: 40px;
            height: 40px;
            border: none;
            border-radius: 50%;
            background: #4c90af;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .voice-btn:hover, .send-btn:hover {
            background: #4840be;
            transform: scale(1.1);
        }

        .voice-btn.listening {
            background: #ff4444;
            animation: pulse-red 1s infinite;
        }

        @keyframes pulse-red {
            0% { box-shadow: 0 0 5px #ff4444; }
            50% { box-shadow: 0 0 15px #ff4444; }
            100% { box-shadow: 0 0 5px #ff4444; }
        }

        .quick-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 10px;
        }

        .quick-action-btn {
            padding: 5px 10px;
            background: #e8f5e8;
            border: 1px solid #4c9eaf;
            border-radius: 15px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #3d80ba;
        }

        .quick-action-btn:hover {
            background: #4cafa8;
            color: white;
        }
    </style>
</head>
<body>
    
    <div class="navbar">
        <div class="webisteName">
            <h4 class="logo">KrishiChain</h4>
        </div>
        <div class="nav-options">
            <a href="C:\Users\sarth\OneDrive\Attachments\Desktop\SIH\index.html"><button type="button">🏠Main Dashboard</button></a>
            <a href="farmersell.html"><button type="button">➕ Sell Products</button></a>
            <button onclick="logoutUser()">Logout</button>
        </div>
    </div>

    <div class="main">
        <div class="top-part">
            <div class="welcome-section">
                <img src="img.jpg" alt="Farmer">
                <div class="overlay">
                    <h1>Namaste <span id="pName">Farmer</span> 🙏</h1>
                    <p>Your harvest deserves the best market. Start selling your products today and grow with us.</p>
                </div>
            </div>
            
            <div class="profile-page">
                <div class="consumer-profile">
                    <p>👤</p>
                    <span><h3>Farmer Profile</h3></span>
                </div>
                <div class="profile-details">
                    <p>Farmer ID: <span id="pID">F001</span></p>
                    <p>Full Name: <span id="pName2">Farmer</span></p>
                    <p>Location: <span id="pLocation">Pune, Maharashtra</span></p>
                    <p>Member Since: <span id="pMember">Jan 2024</span></p>
                    <p>Contact: <span id="pContact">+91 9876543210</span></p>
                    <p>Rating:⭐ <span id="pPreference">4.5</span></p>
                    <p>Total sells: <span id="pOrders">25</span></p>
                    <p>Status: <span id="pStatus">Active</span></p>
                </div>
            </div>
        </div>

        
        <div class="container my-5">
            <h3 class="text-center">📈 Fruit Price Trends</h3>
            <canvas id="salesChart" height="100"></canvas>
        </div>

   
    <div class="chatbot-container">
        <button class="chatbot-toggle" onclick="toggleChatbot()">
            <i class="fas fa-comment-alt"></i>
        </button>
        
        <div class="chatbot-widget" id="chatbotWidget">
            <div class="chatbot-header">
                <span id="chatbotTitle">Farm Assistant 🌾</span>
                <div class="language-selector">
                    <select id="languageSelect" onchange="changeLanguage()">
                        <option value="en">English</option>
                        <option value="hi">हिंदी</option>
                        <option value="mr">मराठी</option>
                    </select>
                </div>
            </div>
            
            <div class="chatbot-messages" id="chatbotMessages">
                <div class="message bot">
                    <div class="message-content" id="welcomeMessage">
                        Hello! I'm your Farm Assistant. I can help you upload products and guide you through the selling process. How can I help you today?
                        <div class="quick-actions">
                            <button class="quick-action-btn" onclick="quickAction('upload')">Upload Products</button>
                            <button class="quick-action-btn" onclick="quickAction('guide')">Step-by-step Guide</button>
                            <button class="quick-action-btn" onclick="quickAction('pricing')">Pricing Help</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="chatbot-input">
                <div class="input-group">
                    <input type="text" id="messageInput" placeholder="Type your message..." onkeypress="handleKeyPress(event)">
                    <button class="voice-btn" id="voiceBtn" onclick="toggleVoice()">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <button class="send-btn" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentLanguage = 'en';
        let isListening = false;
        let recognition;
        let synth = window.speechSynthesis;

        // Language content
        const content = {
            en: {
                title: 'Farm Assistant 🌾',
                welcomeMessage: `Hello! I'm your Farm Assistant. I can help you upload products and guide you through the selling process. How can I help you today?`,
                quickActions: ['Upload Products', 'Step-by-step Guide', 'Pricing Help'],
                placeholder: 'Type your message...',
                responses: {
                    upload: `To upload your products, follow these steps:
1. Go to "➕ Sell Products" in the navigation
2. Take clear photos of your products
3. Fill in product name, quantity, and price
4. Add description and location
5. Submit your listing
Would you like detailed guidance on any of these steps?`,
                    guide: `Here's a complete guide to selling on Farm2Chain:

**Step 1: Product Photos**
- Take photos in good lighting
- Show multiple angles
- Include close-ups of quality

**Step 2: Product Details**
- Enter accurate product name
- Specify quantity available
- Set competitive pricing

**Step 3: Description**
- Mention freshness/quality
- Include harvest date
- Add special features

Would you like me to explain any step in detail?`,
                    pricing: `For competitive pricing:
- Check market rates in your area
- Consider transportation costs
- Factor in seasonal demand
- Price slightly below market for quick sales
- Use bulk pricing for large quantities

What product are you planning to sell?`
                }
            },
            hi: {
                title: 'खेत सहायक 🌾',
                welcomeMessage: `नमस्ते! मैं आपका खेत सहायक हूं। मैं आपको उत्पाद अपलोड करने और बिक्री प्रक्रिया में मार्गदर्शन करने में मदद कर सकता हूं। आज मैं आपकी कैसे सहायता कर सकता हूं?`,
                quickActions: ['उत्पाद अपलोड', 'चरणबद्ध गाइड', 'मूल्य निर्धारण सहायता'],
                placeholder: 'अपना संदेश लिखें...',
                responses: {
                    upload: `अपने उत्पाद अपलोड करने के लिए इन चरणों का पालन करें:
1. नेवीगेशन में "➕ उत्पाद बेचें" पर जाएं
2. अपने उत्पादों की स्पष्ट तस्वीरें लें
3. उत्पाद का नाम, मात्रा और कीमत भरें
4. विवरण और स्थान जोड़ें
5. अपनी लिस्टिंग सबमिट करें
क्या आपको इनमें से किसी भी चरण पर विस्तृत मार्गदर्शन चाहिए?`,
                    guide: `Farm2Chain पर बेचने के लिए संपूर्ण गाइड:

**चरण 1: उत्पाद फोटो**
- अच्छी रोशनी में फोटो लें
- कई कोणों से दिखाएं
- गुणवत्ता के क्लोज-अप शामिल करें

**चरण 2: उत्पाद विवरण**
- सटीक उत्पाद नाम दर्ज करें
- उपलब्ध मात्रा निर्दिष्ट करें
- प्रतिस्पर्धी मूल्य निर्धारण करें

**चरण 3: वर्णन**
- ताजगी/गुणवत्ता का उल्लेख करें
- फसल की तारीख शामिल करें
- विशेष विशेषताएं जोड़ें

क्या आप चाहेंगे कि मैं किसी भी चरण को विस्तार से समझाऊं?`,
                    pricing: `प्रतिस्पर्धी मूल्य निर्धारण के लिए:
- अपने क्षेत्र में बाजार दरें जांचें
- परिवहन लागत पर विचार करें
- मौसमी मांग को ध्यान में रखें
- त्वरित बिक्री के लिए बाजार से थोड़ा कम कीमत रखें
- बड़ी मात्रा के लिए थोक मूल्य का उपयोग करें

आप कौन सा उत्पाद बेचने की योजना बना रहे हैं?`
                }
            },
            mr: {
                title: 'शेत सहाय्यक 🌾',
                welcomeMessage: `नमस्कार! मी तुमचा शेत सहाय्यक आहे। मी तुम्हाला उत्पादने अपलोड करण्यासाठी आणि विक्री प्रक्रियेत मार्गदर्शन करण्यासाठी मदत करू शकतो. आज मी तुमची कशी मदत करू शकतो?`,
                quickActions: ['उत्पादने अपलोड करा', 'टप्प्याटप्प्याने मार्गदर्शक', 'किंमत निर्धारण मदत'],
                placeholder: 'तुमचा संदेश टाइप करा...',
                responses: {
                    upload: `तुमची उत्पादने अपलोड करण्यासाठी या चरणांचे अनुसरण करा:
1. नेव्हिगेशनमध्ये "➕ उत्पादने विका" वर जा
2. तुमच्या उत्पादनांचे स्पष्ट फोटो घ्या
3. उत्पादनाचे नाव, प्रमाण आणि किंमत भरा
4. वर्णन आणि स्थान जोडा
5. तुमची लिस्टिंग सबमिट करा
या पैकी कोणत्याही चरणासाठी तुम्हाला तपशीलवार मार्गदर्शन हवे आहे का?`,
                    guide: `Farm2Chain वर विकण्यासाठी संपूर्ण मार्गदर्शक:

**चरण 1: उत्पादन फोटो**
- चांगल्या प्रकाशात फोटो घ्या
- अनेक कोनातून दाखवा
- गुणवत्तेचे क्लोज-अप समाविष्ट करा

**चरण 2: उत्पादन तपशील**
- अचूक उत्पादनाचे नाव प्रविष्ट करा
- उपलब्ध प्रमाण निर्दिष्ट करा
- स्पर्धात्मक किंमत ठेवा

**चरण 3: वर्णन**
- ताजेपणा/गुणवत्तेचा उल्लेख करा
- कापणीची तारीख समाविष्ट करा
- विशेष वैशिष्ट्ये जोडा

कोणत्याही चरणाचे तपशीलवार स्पष्टीकरण मी द्यावे असे तुम्हाला वाटते का?`,
                    pricing: `स्पर्धात्मक किंमत निर्धारणासाठी:
- तुमच्या परिसरातील बाजारभाव तपासा
- वाहतूक खर्चाचा विचार करा
- हंगामी मागणीचा विचार करा
- त्वरित विक्रीसाठी बाजारापेक्षा थोडी कमी किंमत ठेवा
- मोठ्या प्रमाणासाठी घाऊक किंमत वापरा

तुम्ही कोणते उत्पादन विकण्याची योजना आहे?`
                }
            }
        };

        // Initialize Web Speech API
        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
            recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
            recognition.continuous = false;
            recognition.interimResults = false;
            
            recognition.onstart = function() {
                isListening = true;
                document.getElementById('voiceBtn').classList.add('listening');
                document.getElementById('voiceBtn').innerHTML = '<i class="fas fa-stop"></i>';
            };
            
            recognition.onend = function() {
                isListening = false;
                document.getElementById('voiceBtn').classList.remove('listening');
                document.getElementById('voiceBtn').innerHTML = '<i class="fas fa-microphone"></i>';
            };
            
            recognition.onresult = function(event) {
                const transcript = event.results[0][0].transcript;
                document.getElementById('messageInput').value = transcript;
                sendMessage();
            };
        }

        // Load profile data
        let user = JSON.parse(localStorage.getItem("userData")) || {
            name: "Farmer",
            id: "F001",
            contact: "+91 9876543210",
            location: "Pune, Maharashtra",
            memberSince: "Jan 2024",
            status: "Active",
            totalOrders: "25"
        };


        document.getElementById("pName").innerText = user.name;
        document.getElementById("pName2").innerText = user.name;
        document.getElementById("pContact").innerText = user.contact;
        document.getElementById("pLocation").innerText = user.location;
        document.getElementById("pMember").innerText = user.memberSince;
        document.getElementById("pStatus").innerText = user.status;
        document.getElementById("pOrders").innerText = user.totalOrders;

        // --- Generate 200-day data, but select every 10th day ---
    const totalDays = 200;
    const step = 10; // pick every 10th day
    const labels = [];
    const apples = [];
    const banana = [];
    const grapes = [];
    const oranges = [];

    for(let i=step; i<=totalDays; i+=step){
        labels.push(`Day ${i}`);
        apples.push(Math.floor(Math.random()*100)+50);
        banana.push(Math.floor(Math.random()*80)+30);
        grapes.push(Math.floor(Math.random()*120)+40);
        oranges.push(Math.floor(Math.random()*90)+50);
    }

    const ctx = document.getElementById("salesChart").getContext("2d");
    new Chart(ctx,{
        type:"line",
        data:{
            labels: labels,
            datasets:[
                {label:"Apples",data:apples,borderColor:"red",backgroundColor:"rgba(255,0,0,0.2)",tension:0.3},
                {label:"Banana",data:banana,borderColor:"gold",backgroundColor:"rgba(255,215,0,0.2)",tension:0.3},
                {label:"Grapes",data:grapes,borderColor:"purple",backgroundColor:"rgba(128,0,128,0.2)",tension:0.3},
                {label:"Oranges",data:oranges,borderColor:"orange",backgroundColor:"rgba(255,165,0,0.2)",tension:0.3}
            ]
        },
        options:{
            responsive:true,
            plugins:{legend:{position:"bottom"}},
            scales:{
                y:{beginAtZero:true,ticks:{callback:v=>"₹"+v}}
            }
        }
    });
        

        // Chatbot functions
        function toggleChatbot() {
            const widget = document.getElementById('chatbotWidget');
            widget.classList.toggle('active');
        }

        function changeLanguage() {
            currentLanguage = document.getElementById('languageSelect').value;
            updateLanguageContent();
            
            // Set recognition language
            if (recognition) {
                const langMap = { en: 'en-US', hi: 'hi-IN', mr: 'mr-IN' };
                recognition.lang = langMap[currentLanguage];
            }
        }

        function updateLanguageContent() {
            const lang = content[currentLanguage];
            document.getElementById('chatbotTitle').textContent = lang.title;
            document.getElementById('messageInput').placeholder = lang.placeholder;
            
            // Update welcome message
            const welcomeMsg = document.getElementById('welcomeMessage');
            welcomeMsg.innerHTML = `${lang.welcomeMessage}
                <div class="quick-actions">
                    <button class="quick-action-btn" onclick="quickAction('upload')">${lang.quickActions[0]}</button>
                    <button class="quick-action-btn" onclick="quickAction('guide')">${lang.quickActions[1]}</button>
                    <button class="quick-action-btn" onclick="quickAction('pricing')">${lang.quickActions[2]}</button>
                </div>`;
        }

        function quickAction(action) {
            const lang = content[currentLanguage];
            addMessage('user', getQuickActionText(action));
            setTimeout(() => {
                addMessage('bot', lang.responses[action]);
                speakMessage(lang.responses[action]);
            }, 500);
        }

        function getQuickActionText(action) {
            const actionTexts = {
                en: {
                    upload: 'How to upload products?',
                    guide: 'Give me step-by-step guide',
                    pricing: 'Help with pricing'
                },
                hi: {
                    upload: 'उत्पाद कैसे अपलोड करें?',
                    guide: 'चरणबद्ध गाइड दें',
                    pricing: 'मूल्य निर्धारण में मदद करें'
                },
                mr: {
                    upload: 'उत्पादने कसे अपलोड करावे?',
                    guide: 'टप्प्याटप्प्याने मार्गदर्शक द्या',
                    pricing: 'किंमत निर्धारणासाठी मदत करा'
                }
            };
            return actionTexts[currentLanguage][action];
        }

        function addMessage(sender, message) {
            const messagesContainer = document.getElementById('chatbotMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}`;
            messageDiv.innerHTML = `<div class="message-content">${message}</div>`;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (message === '') return;
            
            addMessage('user', message);
            input.value = '';
            
            setTimeout(() => {
                const response = generateResponse(message);
                addMessage('bot', response);
                speakMessage(response);
            }, 500);
        }

        function generateResponse(message) {
            const lang = content[currentLanguage];
            const lowerMessage = message.toLowerCase();
            
            // Check for common keywords
            if (lowerMessage.includes('upload') || lowerMessage.includes('अपलोड') || lowerMessage.includes('product') || lowerMessage.includes('उत्पाद')) {
                return lang.responses.upload;
            } else if (lowerMessage.includes('guide') || lowerMessage.includes('help') || lowerMessage.includes('गाइड') || lowerMessage.includes('मदत') || lowerMessage.includes('मार्गदर्शन')) {
                return lang.responses.guide;
            } else if (lowerMessage.includes('price') || lowerMessage.includes('pricing') || lowerMessage.includes('cost') || lowerMessage.includes('कीमत') || lowerMessage.includes('मूल्य') || lowerMessage.includes('किंमत')) {
                return lang.responses.pricing;
            } else if (lowerMessage.includes('hello') || lowerMessage.includes('hi') || lowerMessage.includes('नमस्ते') || lowerMessage.includes('हाय') || lowerMessage.includes('नमस्कार')) {
                return lang.welcomeMessage;
            } else if (lowerMessage.includes('photo') || lowerMessage.includes('image') || lowerMessage.includes('picture') || lowerMessage.includes('फोटो') || lowerMessage.includes('चित्र')) {
                return getPhotoGuidance();
            } else if (lowerMessage.includes('quality') || lowerMessage.includes('गुणवत्ता') || lowerMessage.includes('fresh') || lowerMessage.includes('ताजा')) {
                return getQualityTips();
            } else if (lowerMessage.includes('market') || lowerMessage.includes('sell') || lowerMessage.includes('बाजार') || lowerMessage.includes('बेचना') || lowerMessage.includes('विकणे')) {
                return getMarketTips();
            } else {
                return getDefaultResponse();
            }
        }

        function getPhotoGuidance() {
            const responses = {
                en: `📸 **Photo Tips for Better Sales:**

1. **Lighting:** Take photos in natural daylight, avoid flash
2. **Angles:** Show multiple views - top, side, close-up
3. **Background:** Use clean, neutral background
4. **Focus:** Ensure sharp, clear images
5. **Size:** Upload high-quality images (not blurry)

**Pro tip:** Take 3-4 photos per product for best results!`,
                hi: `📸 **बेहतर बिक्री के लिए फोटो टिप्स:**

1. **रोशनी:** प्राकृतिक दिन के उजाले में फोटो लें, फ्लैश से बचें
2. **कोण:** कई व्यू दिखाएं - ऊपर से, साइड से, क्लोज-अप
3. **बैकग्राउंड:** साफ, न्यूट्रल बैकग्राउंड का उपयोग करें
4. **फोकस:** तेज, स्पष्ट इमेज सुनिश्चित करें
5. **साइज:** हाई-क्वालिटी इमेज अपलोड करें (धुंधली नहीं)

**प्रो टिप:** सर्वोत्तम परिणामों के लिए प्रति उत्पाद 3-4 फोटो लें!`,
                mr: `📸 **चांगल्या विक्रीसाठी फोटो टिप्स:**

1. **प्रकाश:** नैसर्गिक दिवसाच्या प्रकाशात फोटो घ्या, फ्लॅश टाळा
2. **कोन:** अनेक व्ह्यू दाखवा - वरून, बाजूने, क्लोज-अप
3. **बॅकग्राउंड:** स्वच्छ, न्यूट्रल बॅकग्राउंड वापरा
4. **फोकस:** तीक्ष्ण, स्पष्ट प्रतिमा सुनिश्चित करा
5. **साइझ:** उच्च-गुणवत्तेच्या प्रतिमा अपलोड करा (अस्पष्ट नाही)

**प्रो टिप:** सर्वोत्तम परिणामांसाठी प्रति उत्पादन 3-4 फोटो घ्या!`
            };
            return responses[currentLanguage];
        }

        function getQualityTips() {
            const responses = {
                en: `✨ **Quality & Freshness Tips:**

1. **Harvest timing:** Pick at optimal ripeness
2. **Storage:** Keep in cool, dry place
3. **Handling:** Gentle handling to avoid bruises
4. **Packaging:** Use breathable containers
5. **Description:** Mention harvest date and storage method

**Remember:** Fresh products sell faster and at better prices!`,
                hi: `✨ **गुणवत्ता और ताजगी के टिप्स:**

1. **फसल का समय:** उचित पकने पर तोड़ें
2. **भंडारण:** ठंडी, सूखी जगह पर रखें
3. **हैंडलिंग:** चोट से बचने के लिए सावधानी से संभालें
4. **पैकेजिंग:** सांस लेने वाले कंटेनर का उपयोग करें
5. **विवरण:** फसल की तारीख और भंडारण विधि का उल्लेख करें

**याद रखें:** ताजे उत्पाद तेजी से और बेहतर कीमत पर बिकते हैं!`,
                mr: `✨ **गुणवत्ता आणि ताजेपणाच्या टिप्स:**

1. **कापणीची वेळ:** योग्य पिकताना काढा
2. **साठवणूक:** थंड, कोरड्या जागी ठेवा
3. **हाताळणी:** जखमा टाळण्यासाठी सावधगिरीने हाताळा
4. **पॅकेजिंग:** श्वासोच्छवासाच्या कंटेनरचा वापर करा
5. **वर्णन:** कापणीची तारीख आणि साठवणूक पद्धतीचा उल्लेख करा

**लक्षात ठेवा:** ताजी उत्पादने जलद आणि चांगल्या किमतीत विकली जातात!`
            };
            return responses[currentLanguage];
        }

        function getMarketTips() {
            const responses = {
                en: `🏪 **Market Success Tips:**

1. **Timing:** List products during peak demand hours
2. **Competition:** Research similar products' prices
3. **Location:** Accurate location helps local buyers
4. **Communication:** Respond quickly to buyer inquiries
5. **Reviews:** Good service leads to positive reviews

**Success Mantra:** Quality + Fair Price + Good Service = Success!`,
                hi: `🏪 **बाजार में सफलता के टिप्स:**

1. **समय:** पीक डिमांड के घंटों में उत्पाद लिस्ट करें
2. **प्रतियोगिता:** समान उत्पादों की कीमतों पर रिसर्च करें
3. **स्थान:** सटीक स्थान स्थानीय खरीदारों की मदद करता है
4. **संचार:** खरीदार की पूछताछ का जल्दी जवाब दें
5. **समीक्षा:** अच्छी सेवा से सकारात्मक समीक्षा मिलती है

**सफलता मंत्र:** गुणवत्ता + उचित मूल्य + अच्छी सेवा = सफलता!`,
                mr: `🏪 **बाजारातील यशाच्या टिप्स:**

1. **वेळ:** पीक डिमांडच्या वेळेत उत्पादने लिस्ट करा
2. **स्पर्धा:** समान उत्पादनांच्या किमतींवर संशोधन करा
3. **स्थान:** अचूक स्थान स्थानिक खरेदीदारांना मदत करते
4. **संवाद:** खरेदीदाराच्या चौकशीला लवकर उत्तर द्या
5. **पुनरावलोकने:** चांगली सेवा सकारात्मक पुनरावलोकने देते

**यशाचे मंत्र:** गुणवत्ता + योग्य किंमत + चांगली सेवा = यश!`
            };
            return responses[currentLanguage];
        }

        function getDefaultResponse() {
            const responses = {
                en: `I'm here to help you with selling your farm products! I can assist with:

• Product uploading process
• Photo and description tips
• Pricing strategies
• Quality maintenance
• Market insights

What would you like to know more about?`,
                hi: `मैं आपकी खेती के उत्पादों को बेचने में मदद के लिए यहाँ हूँ! मैं इनमें सहायता कर सकता हूँ:

• उत्पाद अपलोड प्रक्रिया
• फोटो और विवरण टिप्स
• मूल्य निर्धारण रणनीतियां
• गुणवत्ता बनाए रखना
• बाजार की जानकारी

आप किस बारे में और जानना चाहेंगे?`,
                mr: `मी तुमच्या शेतीच्या उत्पादनांच्या विक्रीसाठी मदतीसाठी येथे आहे! मी यामध्ये सहाय्य करू शकतो:

• उत्पादन अपलोड प्रक्रिया
• फोटो आणि वर्णन टिप्स
• किंमत निर्धारण धोरणे
• गुणवत्ता राखणे
• बाजाराची माहिती

तुम्हाला कशाबद्दल अधिक जाणून घ्यायचे आहे?`
            };
            return responses[currentLanguage];
        }

        function speakMessage(message) {
            if (synth.speaking) {
                synth.cancel();
            }
            
            // Clean message for speech (remove markdown and HTML)
            const cleanMessage = message.replace(/[#*_`]/g, '').replace(/<[^>]*>/g, '').replace(/\n/g, ' ');
            
            const utterance = new SpeechSynthesisUtterance(cleanMessage);
            
            // Set language-specific voice
            const voices = synth.getVoices();
            const langMap = {
                en: 'en',
                hi: 'hi',
                mr: 'mr'
            };
            
            const targetLang = langMap[currentLanguage];
            const voice = voices.find(v => v.lang.includes(targetLang)) || voices[0];
            
            if (voice) {
                utterance.voice = voice;
            }
            
            utterance.rate = 0.9;
            utterance.pitch = 1;
            utterance.volume = 0.8;
            
            synth.speak(utterance);
        }

        function toggleVoice() {
            if (!recognition) {
                alert('Voice recognition is not supported in your browser.');
                return;
            }
            
            if (isListening) {
                recognition.stop();
            } else {
                recognition.start();
            }
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function logoutUser() {
            localStorage.removeItem("userData");
            alert("You have been logged out!");
            window.location.href = "file:///C:/Users/sarth/OneDrive/Attachments/Desktop/SIH/index.html";
        }

        
        window.onload = function() {
            updateLanguageContent();
            
            
            if (synth.onvoiceschanged !== undefined) {
                synth.onvoiceschanged = function() {
                    
                };
            }
        };
    </script>
</body>
</html>